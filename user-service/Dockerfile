# Используем официальный образ с Go
FROM golang:1.21-buster

# Устанавливаем рабочую директорию в контейнере
WORKDIR /app

# Копируем исходники приложения в контейнер
COPY . .

# Загружаем зависимости
RUN go mod download

# Собираем Go-приложение
RUN go build -o user-service

# Открываем порт, на котором будет работать приложение
EXPOSE 5000

# Запускаем приложение
CMD ["./user-service"]